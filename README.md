# Система Управления Знаниями - Дипломный Проект

-----

## Обзор проекта

Данный проект представляет собой веб-приложение для управления базой знаний научных статей. Система автоматически
извлекает (парсит) метаданные, такие как название, авторы, аннотация и дата публикации, со страниц статей
университетского репозитория.

Все данные сохраняются в графовой базе данных **Neo4j**, что позволяет эффективно находить связи между документами и
авторами. Пользовательский интерфейс, созданный на **React**, предоставляет удобные инструменты для интеллектуального
поиска, просмотра информации и получения рекомендаций.

-----

## Ключевые технологии

* **Бэкенд**: Quarkus (Java)
* **База данных**: Neo4j
* **Фронтенд**: React с Vite и TypeScript (интегрирован через Quarkus Quinoa)
* **Стилизация**: Tailwind CSS
* **Оркестрация**: Docker и Docker Compose

-----

## Основные возможности

* **Добавление документов по URL**: Система парсит страницу статьи и автоматически заполняет базу данных.
* **Интеллектуальный поиск**: Полнотекстовый поиск по названию, аннотации и авторам с поддержкой частичных совпадений и
  исправлением опечаток.
* **Рекомендации на основе авторов**: При просмотре документа система предлагает другие работы тех же авторов.
* **Скачивание исходных файлов**: Возможность скачать оригинальный PDF-файл документа.
* **Автоматическое создание индексов**: Индексы в базе данных Neo4j создаются автоматически при старте приложения для
  обеспечения высокой производительности поиска.

-----

## Запуск проекта с помощью Docker Compose

Для развертывания всего стека приложения (бэкенд и база данных) используется Docker Compose.

### Предварительные требования

* Установленный **Docker**
* Установленный **Docker Compose**

### Инструкция по запуску

1. **Сборка приложения**:
   Перед первым запуском необходимо собрать ваше Quarkus-приложение с помощью Maven. Выполните в корневой директории
   проекта:

   ```bash
   ./mvnw package
   ```

2. **Запуск сервисов**:
   Используя файл `docker-compose.yaml`, запустите оба контейнера:

   ```bash
   docker-compose up --build
   ```

   Ключ `--build` необходим для того, чтобы Docker собрал образ вашего бэкенд-приложения.

После успешного выполнения этих команд:

* Ваше бэкенд-приложение будет доступно по адресу `http://localhost:8080`.
* Веб-интерфейс Neo4j будет доступен по адресу `http://localhost:7474`.

-----

## Документация по API

Ниже представлено описание эндпоинтов, предоставляемых сервисом.

### Управление документами

| Мет од | Пу   ть                      | Описание                                      |
| :--:--------------------------------- | :-------------------------------------------- |
| `PO ST`  | `/ api/v1/knowledge`       | Создает новый документ, парся данные по URL. |
| `GE T`   | `/ api/v1/knowledge`       | Получает список документов с поиском и пагинацией. |
| `GE T`   | `/ api/v1/knowledge/{id}`  | Получает детальную информацию о документе по ID. |
| `GE T`   | `/ api/v1/knowledge/{id}/download` | Скачивает исходный файл документа по ID.     |

### Рекомендации и связи

| Метод | Путь                               | Описание                                  |
| :---- | :--------------------------------- | :---------------------------------------- |
| `GET`   | `/api/v1/knowledge/{id}/recommendations` | Получает список рекомендованных документов. |
| `GET`   | `/api/v1/knowledge/author/{authorId}`    | Получает все документы указанного автора. |

-----

### Детали эндпоинтов

#### `POST /api/v1/knowledge`

Создает новый документ. В теле запроса необходимо передать JSON с URL статьи.

**Тело запроса**:

```json
{
  "url": "https://dspace.kpfu.ru/xmlui/handle/net/..."
}
```

#### `GET /api/v1/knowledge`

Возвращает список документов.

**Параметры запроса**:

* `search` (string, опционально): Текст для полнотекстового поиска.
* `page` (integer, по умолчанию `0`): Номер страницы для пагинации.
* `size` (integer, по умолчанию `10`): Количество элементов на странице.

#### `GET /api/v1/knowledge/{id}/recommendations`

Возвращает список рекомендованных документов на основе общих авторов.

**Параметры запроса**:

* `limit` (integer, по умолчанию `5`): Максимальное количество рекомендаций.